<!-- 
markup reference : http://bootstrapk.com/BS3/css#overview 
jquery - DOM control
underscore - template engine
-->
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>comment</title>
	<!--
	http://requirejs.org/
	-->
	<!--
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0-wip/css/bootstrap.min.css">
	-->
	<link rel="stylesheet" href="./css/bootstrap.css">
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-lg-6">
					<ul class="list-group" id="commentList">
					<!--
					  <li class="list-group-item">
					  <h3>comment content</h3>2014. 11. 24. by oskm
					  </li>
					  <li class="list-group-item">Dapibus ac facilisis in Dapibus ac facilisis in<br/>fff</li>
					  <li class="list-group-item">Morbi leo risus</li>
					  <li class="list-group-item">Porta ac consectetur ac</li>
					  <li class="list-group-item">Vestibulum at eros</li>
					  -->
					</ul>
					<div class="input-group">
					  <span class="input-group-addon">닉네임</span>
					  <input type="text" class="form-control" placeholder="Username">
					</div>
					<div class="input-group input-group-lg">
					<input id="commentInput" type="text" class="form-control">
					<span class="input-group-btn">
						<button id="addComment" class="btn btn-default" type="button">Comment</button>
					</span>
				</div><!-- /input-group -->
			
			</div><!-- /.col-lg-6 -->
			
			
		</div><!-- /.row -->
		
		
		<hr>
		<div id="footer">
			<div class="container">
				<p class="text-muted credit">이 앱은 <a href="http://martinbean.co.uk">bootstrap</a> 을 이용해 개발 되었습니다.</p>
			</div>
		</div>
	</div>


<script src="./js/lib/jquery-1.11.0.js"></script>
<!-- https://github.com/codepb/jquery-template -->
<script src="./js/lib/underscore.js"></script>
<!--
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0-wip/js/bootstrap.min.js"></script>
-->
<script src="./js/lib/bootstrap.js"></script>
<script>
	// local storage 에서 데이터 로딩


	// document.getElementById('id') == $('#id')

	// 덧글 추가
	// 1. 덧글 쓰기 버튼을 클릭 하면
	$('#addComment').on('click', function() {
		// 2. 덧글 입력창에 있는 내용을 얻어온다.
		var commentInputValue = $('#commentInput').val();
		
		// 3. 덧글 마크업을 만든다.
		//var commentMarkup = '<li class="list-group-item">' + commentInputValue + '</li>';
		var commentMarkup = _.template($('#commentTemplate').html(), {commentBody: commentInputValue, commentWriteDt : new Date(), commentWriter : 'oskmkr'});
		
		// 4. 만들어진 마크업을 추가한다.
		$('#commentList').append(commentMarkup);
		
		//$('#commentList').append(_.template($('#commentTemplate').html(), {commentBody:$('#commentInput').val(), commentWriteDt : '2014.11.20', commentWriter : 'oskmkr'}));
		// 5. 덧글 입력창 내용을 초기화 한다.
		$('#commentInput').val('');
		
	});

	// 덧글 삭제
</script>
<script id="commentTemplate" type="text/html">
<li class="list-group-item">
<h3><%=commentBody%></h3><%=commentWriteDt%> by <%=commentWriter%>
</li>
</script>
</body>
</html>
